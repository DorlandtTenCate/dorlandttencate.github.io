(this["webpackJsonpsuperflow-react"]=this["webpackJsonpsuperflow-react"]||[]).push([[0],[,,,,,function(e,t,a){e.exports=a(12)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),r=a(4),c=a.n(r),i=(a(10),a(1)),s=a(2);function m(e){var t,a,l=e.state,r=Object(i.a)(l.lwh,1)[0],c=Object(i.a)(l.lwd,1)[0],m=Object(i.a)(l.lsh,1)[0],u=Object(i.a)(l.lsd,1)[0],o=Object(i.a)(l.rsh,1)[0],h=Object(i.a)(l.rsd,1)[0],f=Object(i.a)(l.rwh,1)[0],d=Object(i.a)(l.rwd,1)[0],w=Object(i.a)(l.sbd,1)[0],b=Object(i.a)(l.sbw,1)[0],g=Object(i.a)(l.q,1)[0],v=Object(i.a)(l.n,1)[0],p=Object(i.a)(l.s,1)[0],E=Math.max(r,m,o,f),x={width:r+c+.5+b+.5+d+f,height:E+w+1};x.width<2*x.height&&(x.width=2*x.height),x.height<x.width/2&&(x.height=x.width/2),x.factor=450/x.height;var y=function(e){return e*x.factor},N=function(e){return function(e){return 25+y(e)}(x.height-e)},P=function(e){return 50+y(e)};function j(e,l){return t=e,a=l,e<0||l<0?-1:1/v*e*Math.pow(e/l,2/3)*Math.sqrt(p)}var O=[{side:"left",height:m,summerDistance:u,winterDistance:c,oppositeSummerDistance:h},{side:"right",height:o,summerDistance:h,winterDistance:c,oppositeSummerDistance:u}].sort((function(e,t){return e.height-t.height})),W=Object(i.a)(O,2),D=W[0],S=W[1],k=[],M=b*w,B=b+2*w;k.push({type:"summerBed",maxRate:j(M,B)});var F=Math.min(m,o),R=u+b+h,q=M+R*F,H=2*w+2*F+R;k.push({type:"summerPlains",maxRate:j(q,H)});var J=c+b+d;if(m===o){var z=M+J*F,A=2*w+6*F+J;k.push({type:"lowerWinterPlains",maxRate:j(z,A)})}else{var C=b+D.winterDistance+D.oppositeSummerDistance,I=M+C*F,$=2*w+4*F+C;k.push({type:"lowerWinterPlain",maxRate:j(I,$)});var G=S.height,K=M+C*G,L=2*w+2*D.height+2*G+C;k.push({type:"middleWinterPlain",maxRate:j(K,L)});var Q=c+b+d,T=M+G*Q,U=2*w+2*m+2*o+2*G+Q;k.push({type:"secondWinterPlain",maxRate:j(T,U)})}var V=Math.min(r,f),X=M+J*V,Y=2*w+4*F+2*V+J;function Z(e){var t=b+D.winterDistance+D.oppositeSummerDistance,a=D.winterDistance-D.summerDistance;return j(q+a*e,2*w+2*F+2*e+t)}k.push({type:"upperWinterPlains",maxRate:j(X,Y)});var _={summerBed:0,summerPlains:0,leftWinterPlain:0,rightWinterPlain:0,middleWinterPlain:0,upperWinterPlains:0},ee=k.find((function(e){return e.maxRate>g}));if(ee)if("summerBed"===ee.type||"summerPlains"===ee.type){var te=Object(s.solve)((function(e){return e<=w?j(b*(t=e),b+2*t):j(b*w+R*(e-=w),R+2*e+2*w);var t}),g);_.summerBed=Math.min(te,w),_.summerPlains=Math.max(te-w,0)}else if(_.summerBed=w,_.summerPlains=F,"lowerWinterPlains"===ee.type){var ae=Object(s.solve)((function(e){var t=c-u,a=d-h,l=e-q;if(l<0)return l;var n=.5*l,i=.5*l;return n>t*r?(i+=n-t*F,n=t*F):i>a*F&&(n+=i-a*F,i=a*F),j(e,n/t+2*m+2*w+2*o+i/a+J)}),g)-q,le=c-u,ne=d-h,re=le*F,ce=ne*F,ie=ae/2,se=ae/2;ie>re&&(se+=ie-re,ie=re),se>ce&&(ie+=se-re,ie=ce),_.leftWinterPlain=ie/le,_.rightWinterPlain=se/ne}else if("lowerWinterPlain"===ee.type)_["".concat(D.side,"WinterPlain")]=Object(s.solve)(Z,g);else if("middleWinterPlain"===ee.type){var me=Object(s.solve)((function(e){var t=b+D.winterDistance+D.oppositeSummerDistance;return j(M+t*e,2*w+2*F+2*e+t)}),g);_["".concat(D.side,"WinterPlain")]=_.summerPlains=me}else if("secondWinterPlain"===ee.type)_["".concat(D.side,"WinterPlain")]=_.summerPlains=S.height,_["".concat(S.side,"WinterPlain")]=Object(s.solve)((function(e){var t=b+c+d,a=b+D.winterDistance+D.oppositeSummerDistance,l=S.winterDistance-S.summerDistance;return j(M+a*S.height+l*e,2*w+2*D.height+2*S.height+2*e+t)}),g);else if("upperWinterPlains"===ee.type){var ue=Object(s.solve)((function(e){if(e<=0)return e;var t=b+c+d;return j(M+t*e,2*w+2*m+2*o+2*e+t)}),g);_.leftWinterPlain=_.middleWinterPlain=_.rightWinterPlain=_.summerPlains=ue}function oe(){var e=ee?"text-blue-300":"text-red-300";return n.a.createElement("rect",{className:"".concat(e," fill-current w-full h-full")})}function he(){return n.a.createElement("rect",{className:"text-yellow-900 fill-current h-full w-full",y:N(w)})}function fe(e){var t=e.side,a=e.distance,l=e.height;return n.a.createElement("ellipse",{className:"text-yellow-800 fill-current",cx:P("left"===t?r+c-a-l/2:r+c+.5+b+.5+a+l/2),cy:N(w)+y(l),rx:y(l/2),ry:y(2*l)})}function de(){return n.a.createElement("rect",{className:"text-blue-800 fill-current h-full",width:y(R+1+m/2+o/2),x:P(r+c-u-m/2),y:N(w+_.summerPlains)})}function we(){return n.a.createElement("rect",{className:"text-blue-800 fill-current h-full",width:y(r/2+c-u-m/2),x:P(r/2),y:N(_.leftWinterPlain+w)})}function be(){return n.a.createElement("rect",{className:"text-blue-800 fill-current h-full",width:y(d-h-o/2+f/2),x:P(r+c+.5+b+.5+h+o/2),y:N(_.rightWinterPlain+w)})}function ge(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("mask",{id:"flow-area-mask"},n.a.createElement("path",{className:"text-white h-48 fill-current",d:"M ".concat(P(r+c)," ").concat(N(w),"\n        a ").concat(y(.5)," ").concat(y(.5)," 0 0 1 ").concat(y(.5)," ").concat(y(.5),"\n        v ").concat(y(w)-y(1),"\n        a ").concat(y(.5)," ").concat(y(.5)," 0 0 0 ").concat(y(.5)," ").concat(y(.5),"\n        h ").concat(y(b)-y(1),"\n        a ").concat(y(.5)," ").concat(y(.5)," 0 0 0 ").concat(y(.5)," -").concat(y(.5),"\n        v ").concat(-y(w)+y(1),"\n        a ").concat(y(.5)," ").concat(y(.5)," 0 0 1 ").concat(y(.5)," -").concat(y(.5),"\n        z")})),n.a.createElement("rect",{className:"text-blue-300 fill-current w-full h-full",mask:"url(#flow-area-mask)"}),n.a.createElement("rect",{className:"text-blue-800 fill-current w-full h-full",mask:"url(#flow-area-mask)",y:N(_.summerBed)}))}return window.q=Z,n.a.createElement("div",{className:"flow-model"},n.a.createElement("p",null,"Water level: ",_.summerPlains.toFixed(2),"m"),n.a.createElement("p",null,"Flow Area: ",t.toFixed(2),"m",n.a.createElement("sup",null,"2")),n.a.createElement("p",null,"Wetted perimeter: ",a.toFixed(2),"m"),n.a.createElement("svg",{className:"w-full",viewBox:"0 0 1000 500"},n.a.createElement(oe,null),n.a.createElement(we,null),n.a.createElement(de,null),n.a.createElement(be,null),n.a.createElement(fe,{side:"left",height:r,distance:c}),n.a.createElement(fe,{side:"left",height:m,distance:u}),n.a.createElement(fe,{side:"right",height:o,distance:h}),n.a.createElement(fe,{side:"right",height:f,distance:d}),n.a.createElement(he,null),n.a.createElement(ge,null),n.a.createElement("line",{id:"reference-height",x1:"0",y1:"950",x2:"1000",y2:"950"})))}function u(e){var t=e.label,a=e.value,l=e.className,r=e.type,c=void 0===r?"number":r,s=(e.step,Object(i.a)(a,2)),m=s[0],u=s[1];return n.a.createElement("div",{className:l},n.a.createElement("label",{className:"block mt-4 text-xs text-gray-600 whitespace-no-wrap"},t),n.a.createElement("input",{className:"bg-white focus:outline-none focus:shadow-outline border border-gray-300 rounded-md py-2 px-4 text-sm block w-full appearance-none leading-normal",type:c,value:m,onChange:function(e){return u(parseFloat(e.target.value))}}))}function o(e){var t=e.state,a=t.q,l=t.n,r=t.s,c=t.sbd,i=t.sbw,s=t.lwh,m=t.lwd,o=t.lsh,h=t.lsd,f=t.rsh,d=t.rsd,w=t.rwh,b=t.rwd;return n.a.createElement("div",{className:"sidebar"},n.a.createElement("h2",{className:"font-bold text-2xl"},"Summer bed"),n.a.createElement("div",{className:"lg:flex"},n.a.createElement(u,{className:"w-full",label:n.a.createElement(n.a.Fragment,null,"Flow rate in m",n.a.createElement("sup",null,"3"),"/s"),value:a})),n.a.createElement("div",{className:"lg:flex"},n.a.createElement(u,{className:"w-full lg:w-1/2 mr-8",label:"Roughness coefficient (Manning)",value:l}),n.a.createElement(u,{className:"w-full lg:w-1/2",label:"Slope decline (m/m)",value:r})),n.a.createElement("div",{className:"lg:flex"},n.a.createElement(u,{className:"w-full lg:w-1/2 mr-8",label:"Width of the summer bed in m",value:i}),n.a.createElement(u,{className:"w-full lg:w-1/2",label:"Depth of the summer bed in m",value:c})),n.a.createElement("hr",{className:"mt-4"}),n.a.createElement("h2",{className:"font-bold text-2xl"},"Dykes"),n.a.createElement("div",{className:"lg:flex"},n.a.createElement(u,{className:"w-full lg:w-1/2 mr-8",label:"Height of left winter dyke",value:s}),n.a.createElement(u,{className:"w-full lg:w-1/2",label:"Distance of left winter dyke",value:m})),n.a.createElement("div",{className:"lg:flex"},n.a.createElement(u,{className:"w-full lg:w-1/2 mr-8",label:"Height of left summer dyke",value:o}),n.a.createElement(u,{className:"w-full lg:w-1/2",label:"Distance of left summer dyke",value:h})),n.a.createElement("div",{className:"lg:flex"},n.a.createElement(u,{className:"w-full lg:w-1/2 mr-8",label:"Height of right summer dyke",value:f}),n.a.createElement(u,{className:"w-full lg:w-1/2",label:"Distance of right summer dyke",value:d})),n.a.createElement("div",{className:"lg:flex"},n.a.createElement(u,{className:"w-full lg:w-1/2 mr-8",label:"Height of right winter dyke",value:w}),n.a.createElement(u,{className:"w-full lg:w-1/2",label:"Distance of right winter dyke",value:b})),n.a.createElement("hr",{className:"mt-4"}))}a(11);var h=function(){var e={q:Object(l.useState)(750),n:Object(l.useState)(.035),s:Object(l.useState)(.1),sbd:Object(l.useState)(3.5),sbw:Object(l.useState)(10),lwh:Object(l.useState)(4),lwd:Object(l.useState)(15),lsh:Object(l.useState)(2.5),lsd:Object(l.useState)(5),rsh:Object(l.useState)(2.5),rsd:Object(l.useState)(5),rwh:Object(l.useState)(4),rwd:Object(l.useState)(15)};return n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",{className:"font-bold text-5xl"},"Superflow v0.9"),n.a.createElement("div",{className:"md:flex border-t border-gray-400"},n.a.createElement("div",{className:"w-full min-w-40 md:w-2/5 xl:w-1/4 px-4 py-8"},n.a.createElement(o,{state:e})),n.a.createElement("div",{className:"w-full md:w-3/5 xl:w-3/4 px-4 py-8"},n.a.createElement(m,{state:e}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(h,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[5,1,2]]]);
//# sourceMappingURL=main.ffdda81a.chunk.js.map