(this["webpackJsonpsuperflow-react"]=this["webpackJsonpsuperflow-react"]||[]).push([[0],[,,,,,function(e,t,a){e.exports=a(12)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),r=a(4),c=a.n(r),s=(a(10),a(1)),i=a(2);function m(e){var t,a,l=e.state,r=Object(s.a)(l.wh,1)[0],c=Object(s.a)(l.lwd,1)[0],m=Object(s.a)(l.lsh,1)[0],u=Object(s.a)(l.lsd,1)[0],o=Object(s.a)(l.rsh,1)[0],h=Object(s.a)(l.rsd,1)[0],f=Object(s.a)(l.rwd,1)[0],d=Object(s.a)(l.sbd,1)[0],w=Object(s.a)(l.sbw,1)[0],p=Object(s.a)(l.q,1)[0],b=Object(s.a)(l.n,1)[0],v=Object(s.a)(l.s,1)[0],g=Math.max(r,m,o),E={width:r+c+.5+w+.5+f+r,height:g+d+1};E.width<2*E.height&&(E.width=2*E.height),E.height<E.width/2&&(E.height=E.width/2),E.factor=450/E.height;var x=function(e){return e*E.factor},y=function(e){return function(e){return 25+x(e)}(E.height-e)},N=function(e){return 50+x(e)};function P(e,l){return t=e,a=l,e<0||l<0?-1:1/b*e*Math.pow(e/l,2/3)*Math.sqrt(v)}var j=[{side:"left",height:m,summerDistance:u,winterDistance:c,oppositeSummerDistance:h},{side:"right",height:o,summerDistance:h,winterDistance:c,oppositeSummerDistance:u}].sort((function(e,t){return e.height-t.height})),O=Object(s.a)(j,2),W=O[0],D=O[1],S=[],k=w*d,M=w+2*d;S.push({type:"summerBed",maxRate:P(k,M)});var F=Math.min(m,o),R=u+w+h,B=k+R*F,q=2*d+2*F+R;S.push({type:"summerPlains",maxRate:P(B,q)});var _=c+w+f;if(m===o){var H=k+_*F,J=2*d+6*F+_;S.push({type:"lowerWinterPlains",maxRate:P(H,J)})}else{var z=w+W.winterDistance+W.oppositeSummerDistance,A=k+z*F,C=2*d+4*F+z;S.push({type:"lowerWinterPlain",maxRate:P(A,C)});var I=D.height,T=k+z*I,X=2*d+2*W.height+2*I+z;S.push({type:"middleWinterPlain",maxRate:P(T,X)});var $=c+w+f,G=k+I*$,K=2*d+2*m+2*o+2*I+$;S.push({type:"secondWinterPlain",maxRate:P(G,K)})}var L=k+_*r,Q=2*d+4*F+2*r+_;function U(e){var t=w+W.winterDistance+W.oppositeSummerDistance,a=W.winterDistance-W.summerDistance;return P(B+a*e,2*d+2*F+2*e+t)}S.push({type:"upperWinterPlains",maxRate:P(L,Q)});var V={summerBed:0,summerPlains:0,leftWinterPlain:0,rightWinterPlain:0,middleWinterPlain:0,upperWinterPlains:0},Y=S.find((function(e){return e.maxRate>p}));if(Y)if("summerBed"===Y.type||"summerPlains"===Y.type){var Z=Object(i.solve)((function(e){return e<=d?P(w*(t=e),w+2*t):P(w*d+R*(e-=d),R+2*e+2*d);var t}),p);V.summerBed=Math.min(Z,d),V.summerPlains=Math.max(Z-d,0)}else if(V.summerBed=d,V.summerPlains=F,"lowerWinterPlains"===Y.type){var ee=Object(i.solve)((function(e){var t=c-u,a=f-h,l=e-B;if(l<0)return l;var n=.5*l,s=.5*l;return n>t*r?(s+=n-t*F,n=t*F):s>a*F&&(n+=s-a*F,s=a*F),P(e,n/t+2*m+2*d+2*o+s/a+_)}),p)-B,te=c-u,ae=f-h,le=te*F,ne=ae*F,re=ee/2,ce=ee/2;re>le&&(ce+=re-le,re=le),ce>ne&&(re+=ce-le,re=ne),V.leftWinterPlain=re/te,V.rightWinterPlain=ce/ae}else if("lowerWinterPlain"===Y.type)V["".concat(W.side,"WinterPlain")]=Object(i.solve)(U,p);else if("middleWinterPlain"===Y.type){var se=Object(i.solve)((function(e){var t=w+W.winterDistance+W.oppositeSummerDistance;return P(k+t*e,2*d+2*F+2*e+t)}),p);V["".concat(W.side,"WinterPlain")]=V.summerPlains=se}else if("secondWinterPlain"===Y.type)V["".concat(W.side,"WinterPlain")]=V.summerPlains=D.height,V["".concat(D.side,"WinterPlain")]=Object(i.solve)((function(e){var t=w+c+f,a=w+W.winterDistance+W.oppositeSummerDistance,l=D.winterDistance-D.summerDistance;return P(k+a*D.height+l*e,2*d+2*W.height+2*D.height+2*e+t)}),p);else if("upperWinterPlains"===Y.type){var ie=Object(i.solve)((function(e){if(e<=0)return e;var t=w+c+f;return P(k+t*e,2*d+2*m+2*o+2*e+t)}),p);V.leftWinterPlain=V.middleWinterPlain=V.rightWinterPlain=V.summerPlains=ie}function me(){var e=Y?"text-blue-300":"text-red-300";return n.a.createElement("rect",{className:"".concat(e," fill-current w-full h-full")})}function ue(){return n.a.createElement("rect",{className:"text-yellow-900 fill-current h-full w-full",y:y(d)})}function oe(e){var t=e.side,a=e.distance,l=e.height;return n.a.createElement("ellipse",{className:"text-yellow-800 fill-current",cx:N("left"===t?r+c-a-l/2:r+c+.5+w+.5+a+l/2),cy:y(d)+x(l),rx:x(l/2),ry:x(2*l)})}function he(){return n.a.createElement("rect",{className:"text-blue-800 fill-current h-full",width:x(R+1+m/2+o/2),x:N(r+c-u-m/2),y:y(d+V.summerPlains)})}function fe(){return n.a.createElement("rect",{className:"text-blue-800 fill-current h-full",width:x(r/2+c-u-m/2),x:N(r/2),y:y(V.leftWinterPlain+d)})}function de(){return n.a.createElement("rect",{className:"text-blue-800 fill-current h-full",width:x(f-h-o/2+r/2),x:N(r+c+.5+w+.5+h+o/2),y:y(V.rightWinterPlain+d)})}function we(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("mask",{id:"flow-area-mask"},n.a.createElement("path",{className:"text-white h-48 fill-current",d:"M ".concat(N(r+c)," ").concat(y(d),"\n        a ").concat(x(.5)," ").concat(x(.5)," 0 0 1 ").concat(x(.5)," ").concat(x(.5),"\n        v ").concat(x(d)-x(1),"\n        a ").concat(x(.5)," ").concat(x(.5)," 0 0 0 ").concat(x(.5)," ").concat(x(.5),"\n        h ").concat(x(w)-x(1),"\n        a ").concat(x(.5)," ").concat(x(.5)," 0 0 0 ").concat(x(.5)," -").concat(x(.5),"\n        v ").concat(-x(d)+x(1),"\n        a ").concat(x(.5)," ").concat(x(.5)," 0 0 1 ").concat(x(.5)," -").concat(x(.5),"\n        z")})),n.a.createElement("rect",{className:"text-blue-300 fill-current w-full h-full",mask:"url(#flow-area-mask)"}),n.a.createElement("rect",{className:"text-blue-800 fill-current w-full h-full",mask:"url(#flow-area-mask)",y:y(V.summerBed)}))}return window.q=U,n.a.createElement("div",{className:"flow-model"},n.a.createElement("p",null,"Water level: ",V.summerPlains.toFixed(2),"m"),n.a.createElement("p",null,"Flow Area: ",t.toFixed(2),"m",n.a.createElement("sup",null,"2")),n.a.createElement("p",null,"Wetted perimeter: ",a.toFixed(2),"m"),n.a.createElement("svg",{className:"w-full",viewBox:"0 0 1000 500"},n.a.createElement(me,null),n.a.createElement(fe,null),n.a.createElement(he,null),n.a.createElement(de,null),n.a.createElement(oe,{side:"left",height:r,distance:c}),n.a.createElement(oe,{side:"left",height:m,distance:u}),n.a.createElement(oe,{side:"right",height:o,distance:h}),n.a.createElement(oe,{side:"right",height:r,distance:f}),n.a.createElement(ue,null),n.a.createElement(we,null),n.a.createElement("line",{id:"reference-height",x1:"0",y1:"950",x2:"1000",y2:"950"})))}function u(e){var t=e.label,a=e.value,l=e.className,r=e.type,c=void 0===r?"number":r,i=e.step,m=void 0===i?.1:i,u=e.min,o=void 0===u?m:u,h=e.max,f=void 0===h?1/0:h,d=Object(s.a)(a,2),w=d[0],p=d[1];return n.a.createElement("div",{className:l},n.a.createElement("label",{className:"block mt-4 text-xs text-gray-600 whitespace-no-wrap"},t),n.a.createElement("input",{className:"bg-white focus:outline-none focus:shadow-outline border border-gray-300 rounded-md py-2 px-4 text-sm block w-full appearance-none leading-normal",type:c,value:w,step:m,onChange:function(e){return p(Math.min(Math.max(parseFloat(e.target.value),o),f))}}))}function o(e){var t=e.state,a=t.q,l=t.n,r=t.s,c=t.sbd,s=t.sbw,i=t.wh,m=t.lwd,o=t.lsh,h=t.lsd,f=t.rsh,d=t.rsd,w=t.rwd;return n.a.createElement("div",{className:"sidebar"},n.a.createElement("h2",{className:"font-bold text-2xl"},"Summer bed"),n.a.createElement("div",{className:"lg:flex"},n.a.createElement(u,{className:"w-full",label:n.a.createElement(n.a.Fragment,null,"Flow rate in m",n.a.createElement("sup",null,"3"),"/s"),value:a,step:"10"})),n.a.createElement("div",{className:"lg:flex"},n.a.createElement(u,{className:"w-full lg:w-1/2 mr-8",label:n.a.createElement(n.a.Fragment,null,n.a.createElement("a",{className:"underline",href:"http://www.fsl.orst.edu/geowater/FX3/help/8_Hydraulic_Reference/Mannings_n_Tables.htm",target:"_blank",rel:"noopener noreferrer"},"Roughness coefficient (Manning)")),value:l,step:"0.001",min:"0.001"}),n.a.createElement(u,{className:"w-full lg:w-1/2",label:"Slope decline (m/m)",value:r,step:"0.01"})),n.a.createElement("div",{className:"lg:flex"},n.a.createElement(u,{className:"w-full lg:w-1/2 mr-8",label:"Width of the summer bed in m",value:s}),n.a.createElement(u,{className:"w-full lg:w-1/2",label:"Depth of the summer bed in m",value:c})),n.a.createElement("hr",{className:"mt-4"}),n.a.createElement("h2",{className:"font-bold text-2xl"},"Dykes"),n.a.createElement("div",{className:"lg:flex"},n.a.createElement(u,{className:"w-full",label:"Height of winter dykes",value:i})),n.a.createElement("div",{className:"lg:flex"},n.a.createElement(u,{className:"w-full lg:w-1/2 lg:mr-8",label:"Distance of left winter dyke",value:m}),n.a.createElement(u,{className:"w-full lg:w-1/2",label:"Distance of right winter dyke",value:w})),n.a.createElement("div",{className:"lg:flex"},n.a.createElement(u,{className:"w-full lg:w-1/2 mr-8",label:"Height of left summer dyke",value:o,max:i[0]}),n.a.createElement(u,{className:"w-full lg:w-1/2 mr-8",label:"Height of right summer dyke",value:f,max:i[0]})),n.a.createElement("div",{className:"lg:flex"},n.a.createElement(u,{className:"w-full lg:w-1/2",label:"Distance of left summer dyke",value:h,max:m[0]-o[0]}),n.a.createElement(u,{className:"w-full lg:w-1/2",label:"Distance of right summer dyke",value:d,max:w[0]-f[0]})),n.a.createElement("hr",{className:"mt-4"}))}a(11);var h=function(){var e={q:Object(l.useState)(750),n:Object(l.useState)(.035),s:Object(l.useState)(.1),sbd:Object(l.useState)(3.5),sbw:Object(l.useState)(10),wh:Object(l.useState)(4),lwd:Object(l.useState)(15),lsh:Object(l.useState)(2.5),lsd:Object(l.useState)(5),rsh:Object(l.useState)(2.5),rsd:Object(l.useState)(5),rwd:Object(l.useState)(15)};return n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",{className:"font-bold text-5xl"},"Superflow v0.9.1"),n.a.createElement("div",{className:"md:flex border-t border-gray-400"},n.a.createElement("div",{className:"w-full min-w-40 md:w-2/5 xl:w-1/4 px-4 py-8"},n.a.createElement(o,{state:e})),n.a.createElement("div",{className:"w-full md:w-3/5 xl:w-3/4 px-4 py-8"},n.a.createElement(m,{state:e}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(h,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[5,1,2]]]);
//# sourceMappingURL=main.3f5bb9b1.chunk.js.map