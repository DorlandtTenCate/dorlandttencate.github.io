(this["webpackJsonpsuperflow-react"]=this["webpackJsonpsuperflow-react"]||[]).push([[0],[,,,,,function(e,t,a){e.exports=a(12)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),r=a(4),c=a.n(r),s=(a(10),a(1)),i=a(2);function m(e){var t,a,l=e.state,r=Object(s.a)(l.lwh,1)[0],c=Object(s.a)(l.lwd,1)[0],m=Object(s.a)(l.lsh,1)[0],u=Object(s.a)(l.lsd,1)[0],o=Object(s.a)(l.rsh,1)[0],h=Object(s.a)(l.rsd,1)[0],f=Object(s.a)(l.rwh,1)[0],d=Object(s.a)(l.rwd,1)[0],w=Object(s.a)(l.sbd,1)[0],b=Object(s.a)(l.sbw,1)[0],g=Object(s.a)(l.q,1)[0],E=Object(s.a)(l.n,1)[0],v=Object(s.a)(l.s,1)[0],p=Math.max(r,m,o,f),x={width:r+c+.5+b+.5+d+f,height:p+w+1};x.width<2*x.height&&(x.width=2*x.height),x.height<x.width/2&&(x.height=x.width/2),x.factor=450/x.height;var y=function(e){return e*x.factor},N=function(e){return function(e){return 25+y(e)}(x.height-e)},j=function(e){return 50+y(e)};function O(e,l){return t=e,a=l,e<0||l<0?-1:1/E*e*Math.pow(e/l,2/3)*Math.sqrt(v)}var k=[],P=b*w,S=b+2*w;k.push({type:"summerBed",maxRate:O(P,S)});var W=Math.min(m,o),D=u+b+h,F=P+D*W,M=2*w+2*W+D;k.push({type:"summerPlains",maxRate:O(F,M)});var R=c+b+d;if(m===o){var H=P+R*W,B=2*w+6*W+R;k.push({type:"lowerWinterPlains",maxRate:O(H,B)})}else{var q=[{side:"left",height:m,winterDistance:c,oppositeSummerDistance:h},{side:"right",height:o,winterDistance:d,oppositeSummerDistance:u}].sort((function(e,t){return e.height-t.height})),J=b+q[0].winterDistance+q[0].oppositeSummerDistance,z=P+J*W,A=2*w+4*W+J;k.push({type:"lowerHalfWinterPlains",maxRate:O(z,A)});var C=q[1].height,I=P+J*C,$=2*w+2*q[0].height+2*C+J;k.push(O(I,$));var G=c+b+d,K=P+C*G,L=2*w+2*m+2*o+2*C+G;k.push({type:"lowerWinterPlains",maxRate:O(K,L)})}var Q=Math.min(r,f),T=P+R*Q,U=2*w+4*W+2*Q+R;k.push({type:"lowerHalfWinterPlains",maxRate:O(T,U)});var V={summerPlains:0,leftWinterPlain:0,rightWinterPlain:0,middleWinterPlain:0,upperWinterPlains:0},X=k.find((function(e){return e.maxRate>g}));if(X)if("summerBed"===X.type||"summerPlains"===X.type)V.summerPlains=Object(i.solve)((function(e){return e<=w?O(b*(t=e),b+2*t):O(b*w+D*(e-=w),D+2*e+2*w);var t}),g);else if(V.summerPlains=W+w,"lowerWinterPlains"===X.type){var Y=Object(i.solve)((function(e){var t=c-u,a=d-h,l=e-F;if(l<0)return l;var n=.5*l,s=.5*l;return n>t*r?(s+=n-t*W,n=t*W):s>a*W&&(n+=s-a*W,s=a*W),O(e,n/t+2*m+2*w+2*o+s/a+R)}),g)-F,Z=c-u,_=d-h,ee=Z*W,te=_*W,ae=Y/2,le=Y/2;ae>ee&&(le+=ae-ee,ae=ee),le>te&&(ae+=le-ee,ae=te),V.leftWinterPlain=ae/Z,V.rightWinterPlain=le/_}else X.type;function ne(){return n.a.createElement("rect",{className:"text-blue-300 fill-current w-full h-full"})}function re(){return n.a.createElement("rect",{className:"text-yellow-900 fill-current h-full w-full",y:N(w)})}function ce(e){var t=e.side,a=e.distance,l=e.height;return n.a.createElement("ellipse",{className:"text-yellow-800 fill-current",cx:j("left"===t?r+c-a-l/2:r+c+.5+b+.5+a+l/2),cy:N(w)+y(l),rx:y(l/2),ry:y(2*l)})}function se(){return n.a.createElement("rect",{className:"text-blue-800 fill-current h-full",width:y(D+1+m),x:j(r+c-u-m/2),y:N(V.summerPlains)})}function ie(){return n.a.createElement("rect",{className:"text-blue-800 fill-current h-full",width:y(r/2+c-u-m/2),x:j(r/2),y:N(V.leftWinterPlain+w)})}function me(){return n.a.createElement("rect",{className:"text-blue-800 fill-current h-full",width:y(d-h-o/2+f/2),x:j(r+c+.5+b+.5+h+o/2),y:N(V.rightWinterPlain+w)})}function ue(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("mask",{id:"flow-area-mask"},n.a.createElement("path",{className:"text-white h-48 fill-current",d:"M ".concat(j(r+c)," ").concat(N(w),"\n        a ").concat(y(.5)," ").concat(y(.5)," 0 0 1 ").concat(y(.5)," ").concat(y(.5),"\n        v ").concat(y(w)-y(1),"\n        a ").concat(y(.5)," ").concat(y(.5)," 0 0 0 ").concat(y(.5)," ").concat(y(.5),"\n        h ").concat(y(b)-y(1),"\n        a ").concat(y(.5)," ").concat(y(.5)," 0 0 0 ").concat(y(.5)," -").concat(y(.5),"\n        v ").concat(-y(w)+y(1),"\n        a ").concat(y(.5)," ").concat(y(.5)," 0 0 1 ").concat(y(.5)," -").concat(y(.5),"\n        z")})),n.a.createElement("rect",{className:"text-blue-300 fill-current w-full h-full",mask:"url(#flow-area-mask)"}),n.a.createElement("rect",{className:"text-blue-800 fill-current w-full h-full",mask:"url(#flow-area-mask)",y:N(V.summerPlains)}))}return console.log(k),console.log(V),n.a.createElement("div",{class:"flow-model"},n.a.createElement("p",null,"Water level: ",V.summerPlains.toFixed(2),"m"),n.a.createElement("p",null,"Flow Area: ",t.toFixed(2),"m",n.a.createElement("sup",null,"2")),n.a.createElement("p",null,"Wetted permitere: ",a.toFixed(2),"m"),n.a.createElement("svg",{className:"w-full",viewBox:"0 0 1000 500"},n.a.createElement(ne,null),n.a.createElement(ie,null),n.a.createElement(se,null),n.a.createElement(me,null),n.a.createElement(ce,{side:"left",height:r,distance:c}),n.a.createElement(ce,{side:"left",height:m,distance:u}),n.a.createElement(ce,{side:"right",height:o,distance:h}),n.a.createElement(ce,{side:"right",height:f,distance:d}),n.a.createElement(re,null),n.a.createElement(ue,null),n.a.createElement("line",{id:"reference-height",x1:"0",y1:"950",x2:"1000",y2:"950"})))}function u(e){var t=e.label,a=e.value,l=e.className,r=e.type,c=void 0===r?"number":r,i=(e.step,Object(s.a)(a,2)),m=i[0],u=i[1];return n.a.createElement("div",{className:l},n.a.createElement("label",{className:"block mt-4 text-xs text-gray-600 whitespace-no-wrap"},t),n.a.createElement("input",{className:"bg-white focus:outline-none focus:shadow-outline border border-gray-300 rounded-md py-2 px-4 text-sm block w-full appearance-none leading-normal",type:c,value:m,onChange:function(e){return u(parseFloat(e.target.value))}}))}function o(e){var t=e.state,a=t.q,l=t.n,r=t.s,c=t.sbd,s=t.sbw,i=t.lwh,m=t.lwd,o=t.lsh,h=t.lsd,f=t.rsh,d=t.rsd,w=t.rwh,b=t.rwd;return n.a.createElement("div",{class:"sidebar"},n.a.createElement("h2",{className:"font-bold text-2xl"},"Summer bed"),n.a.createElement("div",{className:"lg:flex"},n.a.createElement(u,{className:"w-full mr-8",label:n.a.createElement(n.a.Fragment,null,"Flow rate in m",n.a.createElement("sup",null,"3"),"/s"),value:a})),n.a.createElement("div",{className:"lg:flex"},n.a.createElement(u,{className:"w-full lg:w-1/2",label:"Roughness coefficient (Manning)",value:l}),n.a.createElement(u,{className:"w-full lg:w-1/2",label:"Slope decline (m/m)",value:r})),n.a.createElement("div",{className:"lg:flex"},n.a.createElement(u,{className:"w-full lg:w-1/2 mr-8",label:"Width of the summer bed in m",value:s}),n.a.createElement(u,{className:"w-full lg:w-1/2",label:"Depth of the summer bed in m",value:c})),n.a.createElement("hr",{class:"mt-4"}),n.a.createElement("h2",{className:"font-bold text-2xl"},"Dykes"),n.a.createElement("div",{className:"lg:flex"},n.a.createElement(u,{className:"w-full lg:w-1/2 mr-8",label:"Height of left winter dyke",value:i}),n.a.createElement(u,{className:"w-full lg:w-1/2",label:"Distance of left winter dyke",value:m})),n.a.createElement("div",{className:"lg:flex"},n.a.createElement(u,{className:"w-full lg:w-1/2 mr-8",label:"Height of left summer dyke",value:o}),n.a.createElement(u,{className:"w-full lg:w-1/2",label:"Distance of left summer dyke",value:h})),n.a.createElement("div",{className:"lg:flex"},n.a.createElement(u,{className:"w-full lg:w-1/2 mr-8",label:"Height of right summer dyke",value:f}),n.a.createElement(u,{className:"w-full lg:w-1/2",label:"Distance of right summer dyke",value:d})),n.a.createElement("div",{className:"lg:flex"},n.a.createElement(u,{className:"w-full lg:w-1/2 mr-8",label:"Height of right winter dyke",value:w}),n.a.createElement(u,{className:"w-full lg:w-1/2",label:"Distance of right winter dyke",value:b})),n.a.createElement("hr",{class:"mt-4"}))}a(11);var h=function(){var e={q:Object(l.useState)(750),n:Object(l.useState)(.035),s:Object(l.useState)(.1),sbd:Object(l.useState)(3.5),sbw:Object(l.useState)(10),lwh:Object(l.useState)(4),lwd:Object(l.useState)(15),lsh:Object(l.useState)(2.5),lsd:Object(l.useState)(5),rsh:Object(l.useState)(2.5),rsd:Object(l.useState)(5),rwh:Object(l.useState)(4),rwd:Object(l.useState)(15)};return n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",{className:"font-bold text-5xl"},"Superflow v0.1"),n.a.createElement("div",{className:"md:flex border-t border-gray-400"},n.a.createElement("div",{className:"w-full min-w-40 md:w-2/5 xl:w-1/4 px-4 py-8"},n.a.createElement(o,{state:e})),n.a.createElement("div",{className:"w-full md:w-3/5 xl:w-3/4 px-4 py-8"},n.a.createElement(m,{state:e}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(h,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[5,1,2]]]);
//# sourceMappingURL=main.d6f822f8.chunk.js.map